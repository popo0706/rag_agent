# ================================================================
# 【概要】
# OpenAI Python SDK（v1 系）を使って
# 「ユーザーが 1 つ質問 → ChatGPT が 1 つ答える」
# という最小構成のサンプルです。
# ---------------------------------------------------------------
# ❶ 必要ライブラリのインポート
# ❷ クライアント（client）を生成
# ❸ 会話履歴 messages を用意し、chat.completions.create() を呼び出す
# ❹ 返ってきた response から回答文だけを取り出して表示
# ================================================================

# 1. ライブラリ読み込み --------------------------------------------------
from openai import OpenAI  # v1 系 SDK の窓口クラス

# 2. クライアント生成 ----------------------------------------------------
client = OpenAI()  # API キーは環境変数 OPENAI_API_KEY を自動利用

# 3. 会話履歴を作って API を呼び出す ----------------------------------
response = client.chat.completions.create(
    model="gpt-4.1-nano",  # 軽量 GPT-4.1（速くて料金も安いモデル）
    messages=[  # ← 会話の履歴をリストで渡す
        {
            "role": "user",  # 「人間の発言」です、というマーク
            "content": (
                "プロンプトエンジニアリングと" "ファインチューニングの違いは？"
            ),
            # ↑ ChatGPT への具体的な質問（日本語 OK）
        }
    ],
)

# 4. 返答を取り出して表示 ----------------------------------------------
#    response.choices は「応答候補」の配列（通常 1 つ）
#    その 0 番目 .message.content に自然言語の回答文が入っている
answer = response.choices[0].message.content
print(answer)  # コンソールに回答を表示
